"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5127],{5127:(_,m,s)=>{s.r(m),s.d(m,{MyGalleriesPageModule:()=>C});var g=s(177),u=s(4341),n=s(4742),f=s(8986),h=s(467),e=s(4438),y=s(3496);function G(r,i){if(1&r&&e.nrm(0,"img",11),2&r){const t=e.XpG().$implicit;e.Y8G("src",t.filename,e.B4B)}}function p(r,i){if(1&r){const t=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content")(5,"p"),e.EFF(6),e.k0s(),e.DNE(7,G,1,1,"img",8),e.k0s(),e.j41(8,"ion-item")(9,"ion-button",9),e.bIt("click",function(){const a=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.presentConfirm(a.id))}),e.EFF(10,"Eliminar"),e.k0s(),e.j41(11,"ion-button",10),e.bIt("click",function(){const a=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.editGallery(a.id))}),e.EFF(12,"Editar"),e.k0s()()()}if(2&r){const t=i.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(3),e.JRh(t.address),e.R7$(),e.Y8G("ngIf",t.filename)}}const M=[{path:"",component:(()=>{var r;class i{constructor(l,a){this.galleryService=l,this.alertController=a,this.galleries=[],this.filteredGalleries=[],this.searchTerm=""}ngOnInit(){this.getAllGalleries()}getAllGalleries(){this.galleryService.getGalleries().subscribe(l=>{this.galleries=l,this.filteredGalleries=this.galleries},l=>{console.error("Error al obtener galer\xedas:",l)})}filterGalleries(){this.filteredGalleries=this.searchTerm?this.galleries.filter(l=>l.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.galleries}editGallery(l){var a=this;return(0,h.A)(function*(){const o=a.galleries.find(c=>c.id===l);o&&(yield(yield a.alertController.create({header:"Modificar Galer\xeda",inputs:[{name:"name",type:"text",value:o.name,placeholder:"Nombre de la galer\xeda"},{name:"address",type:"text",value:o.address,placeholder:"Direcci\xf3n"},{name:"filename",type:"text",value:o.filename,placeholder:"Archivo de imagen"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:c=>{const P={...o,name:c.name,address:c.address,filename:c.filename};a.galleryService.editGallery(l,P).subscribe(()=>{a.getAllGalleries()})}}]})).present())})()}presentConfirm(l){var a=this;return(0,h.A)(function*(){yield(yield a.alertController.create({header:"Confirmar Borrado",message:"\xbfEst\xe1s seguro de que deseas borrar esta galer\xeda?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Cancelado")}},{text:"Aceptar",handler:()=>{a.deleteGallery(l)}}]})).present()})()}deleteGallery(l){this.galleryService.deleteGallery(l).subscribe(a=>{console.log("Galer\xeda eliminada:",a),this.getAllGalleries()},a=>{console.error("Error al eliminar galer\xeda:",a)})}}return(r=i).\u0275fac=function(l){return new(l||r)(e.rXU(y.A),e.rXU(n.hG))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-my-galleries"]],decls:13,vars:3,consts:[[3,"translucent"],["placeholder","Buscar galer\xeda...","showCancelButton","focus",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","start"],["color","secondary","routerLink","/add-gallery"],["name","add"],["slot","fixed","vertical","bottom","horizontal","end"],["name","home-outline","routerLink","/home"],["alt","Gallery Image",3,"src",4,"ngIf"],["color","danger",3,"click"],["color","primary",3,"click"],["alt","Gallery Image",3,"src"]],template:function(l,a){1&l&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"My Galleries"),e.k0s()()(),e.j41(4,"ion-content")(5,"ion-searchbar",1),e.mxI("ngModelChange",function(d){return e.DH7(a.searchTerm,d)||(a.searchTerm=d),d}),e.bIt("ionInput",function(){return a.filterGalleries()}),e.k0s(),e.DNE(6,p,13,3,"ion-card",2),e.k0s(),e.j41(7,"ion-fab",3)(8,"ion-fab-button",4),e.nrm(9,"ion-icon",5),e.k0s()(),e.j41(10,"ion-fab",6)(11,"ion-fab-button"),e.nrm(12,"ion-icon",7),e.k0s()()),2&l&&(e.Y8G("translucent",!0),e.R7$(5),e.R50("ngModel",a.searchTerm),e.R7$(),e.Y8G("ngForOf",a.filteredGalleries))},dependencies:[g.Sq,g.bT,u.BC,u.vS,n.Jm,n.b_,n.I9,n.ME,n.tN,n.W9,n.Q8,n.YW,n.eU,n.iq,n.uz,n.S1,n.BC,n.ai,n.Gw,n.N7,f.Wk],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #f0f4f8}ion-card[_ngcontent-%COMP%]{margin:15px;border-radius:10px;box-shadow:0 4px 8px #0000001a;background-color:#fff}ion-card-header[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border-radius:10px 10px 0 0}ion-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}ion-card-content[_ngcontent-%COMP%]{color:#333}ion-button[_ngcontent-%COMP%]{margin:5px;--border-radius: 5px}.fab-button[_ngcontent-%COMP%]{--background: #3f51b5;--color: #ffffff}ion-button[color=danger][_ngcontent-%COMP%]{--background: #f44336;--color: #fff}ion-button[color=primary][_ngcontent-%COMP%]{--background: #2196f3;--color: #fff}ion-searchbar[_ngcontent-%COMP%]{--background: #e0e0e0;--color: #333}']}),i})()}];let b=(()=>{var r;class i{}return(r=i).\u0275fac=function(l){return new(l||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.iI.forChild(M),f.iI]}),i})(),C=(()=>{var r;class i{}return(r=i).\u0275fac=function(l){return new(l||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[g.MD,u.YN,n.bv,b]}),i})()}}]);