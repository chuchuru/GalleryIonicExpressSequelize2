"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5396],{5396:(C,p,l)=>{l.r(p),l.d(p,{MyArtistsPageModule:()=>v});var f=l(177),c=l(4341),n=l(4742),d=l(8986),h=l(467),g=l(3114),t=l(4438),A=l(9581);function y(e,a){if(1&e&&t.nrm(0,"img",17),2&e){const s=t.XpG().$implicit;t.Mz_("src","http://localhost:8080/images/",s.filename,"",t.B4B)}}function M(e,a){if(1&e){const s=t.RV6();t.j41(0,"ion-item")(1,"ion-label")(2,"ion-avatar",11),t.DNE(3,y,1,2,"img",12),t.k0s(),t.j41(4,"h1"),t.EFF(5),t.k0s(),t.j41(6,"h2"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9,"Fecha de Nacimiento: "),t.nrm(10,"br"),t.EFF(11),t.k0s()(),t.j41(12,"ion-button",13),t.bIt("click",function(){const r=t.eBV(s).$implicit,o=t.XpG();return t.Njj(o.editArtist(r.id))}),t.nrm(13,"ion-icon",14),t.k0s(),t.j41(14,"ion-button",15),t.bIt("click",function(){const r=t.eBV(s).$implicit,o=t.XpG();return t.Njj(o.deleteArtist(r.id))}),t.nrm(15,"ion-icon",16),t.k0s()()}if(2&e){const s=a.$implicit;t.R7$(3),t.Y8G("ngIf",s.filename),t.R7$(2),t.JRh(s.name),t.R7$(2),t.JRh(s.surnames),t.R7$(4),t.SpI(" ",s.dateBirth,"")}}const b=[{path:"",component:(()=>{var e;class a{constructor(i,r,o,u){this.artistService=i,this.alertController=r,this.formBuilder=o,this.router=u,this.artists=[],this.searchTerm="",this.selectedFile=null,this.artistForm=this.formBuilder.group({name:["",c.k0.required],surnames:[""],dateBirth:["",c.k0.required],file:[null]})}ngOnInit(){this.getAllArtists()}getAllArtists(){this.artistService.getArtists().subscribe(i=>{this.artists=i})}filterArtists(){this.searchTerm?this.artistService.searchByName(this.searchTerm).subscribe(i=>{this.artists=i}):this.getAllArtists()}onFileSelected(i){this.selectedFile=i.target.files[0]}goToAddArtist(){this.router.navigate(["/add-artist"])}editArtist(i){var r=this;return(0,h.A)(function*(){const o=r.artists.find(m=>m.id===i);o&&(yield(yield r.alertController.create({header:"Modificar Artista",inputs:[{name:"name",type:"text",value:o.name,placeholder:"Nombre"},{name:"surnames",type:"text",value:o.surnames,placeholder:"Apellidos"},{name:"dateBirth",type:"date",value:o.dateBirth,placeholder:"Fecha de nacimiento"},{name:"filename",type:"text",value:o.filename,placeholder:"Archivo de imagen"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:m=>{const _={...o,name:m.name,surnames:m.surnames,dateBirth:m.dateBirth,filename:m.filename};r.artistService.editArtist(i,_).subscribe(()=>r.getAllArtists())}}]})).present())})()}deleteArtist(i){var r=this;return(0,h.A)(function*(){yield(yield r.alertController.create({header:"Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que quieres eliminar este artista?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>{r.artistService.deleteArtist(i).subscribe(()=>r.getAllArtists())}}]})).present()})()}takePhoto(){return(0,h.A)(function*(){return yield g.i7.getPhoto({resultType:g.LK.Uri,source:g.ru.Camera,quality:100})})()}pickImage(){return(0,h.A)(function*(){return(yield g.i7.pickImages({limit:1,quality:100})).photos[0]})()}}return(e=a).\u0275fac=function(i){return new(i||e)(t.rXU(A.J),t.rXU(n.hG),t.rXU(c.ok),t.rXU(d.Ix))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-my-artists"]],decls:14,vars:3,consts:[[3,"translucent"],["color","primary"],[2,"color","white"],["placeholder","Buscar artista...","showCancelButton","focus",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","start"],[3,"click"],["name","add","color","light"],["slot","fixed","vertical","bottom","horizontal","end"],["routerLink","/home"],["name","home","color","light"],["slot","start"],["alt","image",3,"src",4,"ngIf"],["fill","clear","color","primary",3,"click"],["slot","icon-only","name","create-outline"],["fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash-outline"],["alt","image",3,"src"]],template:function(i,r){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t.EFF(3,"Artistas"),t.k0s()()(),t.j41(4,"ion-content")(5,"ion-searchbar",3),t.mxI("ngModelChange",function(u){return t.DH7(r.searchTerm,u)||(r.searchTerm=u),u}),t.bIt("ionInput",function(){return r.filterArtists()}),t.k0s(),t.j41(6,"ion-list"),t.DNE(7,M,16,4,"ion-item",4),t.k0s(),t.j41(8,"ion-fab",5)(9,"ion-fab-button",6),t.bIt("click",function(){return r.goToAddArtist()}),t.nrm(10,"ion-icon",7),t.k0s()(),t.j41(11,"ion-fab",8)(12,"ion-fab-button",9),t.nrm(13,"ion-icon",10),t.k0s()()()),2&i&&(t.Y8G("translucent",!0),t.R7$(5),t.R50("ngModel",r.searchTerm),t.R7$(2),t.Y8G("ngForOf",r.artists))},dependencies:[f.Sq,f.bT,c.BC,c.vS,n.mC,n.Jm,n.W9,n.Q8,n.YW,n.eU,n.iq,n.uz,n.he,n.nf,n.S1,n.BC,n.ai,n.Gw,n.N7,d.Wk],styles:['@charset "UTF-8";ion-button[_ngcontent-%COMP%]{font-size:1.5rem}ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.custom-fab-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.custom-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:30px}']}),a})()}];let P=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.iI.forChild(b),d.iI]}),a})(),v=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[f.MD,c.YN,c.X1,n.bv,P]}),a})()}}]);