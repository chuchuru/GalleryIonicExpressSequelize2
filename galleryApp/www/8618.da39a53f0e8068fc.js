"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618:(k,c,g)=>{g.r(c),g.d(c,{RegisterPageModule:()=>b});var p=g(177),n=g(4341),s=g(4742),u=g(8986),e=g(4438),f=g(1626);function h(t,a){1&t&&(e.j41(0,"div",21),e.EFF(1," El correo es requerido y debe ser v\xe1lido. "),e.k0s())}function F(t,a){1&t&&(e.j41(0,"div",21),e.EFF(1," La contrase\xf1a es requerida y debe tener m\xe1s de 5 caracteres. "),e.k0s())}function v(t,a){1&t&&(e.j41(0,"div",21),e.EFF(1," Por favor confirme su contrase\xf1a. "),e.k0s())}const P=[{path:"",component:(()=>{var t;class a{constructor(o,i,r){this.formBuilder=o,this.httpClient=i,this.router=r,this.selectedImage=null,this.imageError=null,this.registerForm=this.formBuilder.group({email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(6)]],confirmPassword:["",n.k0.required]})}ngOnInit(){}onImageSelected(o){const i=o.target;if(i.files&&i.files.length>0){const r=i.files[0];r&&(this.selectedImage=r,this.imageError=null)}}onRegister(){var o,i;if(this.registerForm.invalid)return;const r=new FormData;r.append("email",null===(o=this.registerForm.get("email"))||void 0===o?void 0:o.value),r.append("password",null===(i=this.registerForm.get("password"))||void 0===i?void 0:i.value),this.selectedImage&&r.append("file",this.selectedImage,this.selectedImage.name),this.httpClient.post("http://localhost:8080/api/users/register",r).subscribe(l=>{console.log(l),this.router.navigate(["/login"])},l=>{console.error(l)})}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(n.ok),e.rXU(f.Qq),e.rXU(u.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:37,vars:5,consts:[["color","dark"],[1,"ion-padding"],[1,"register-container"],[1,"shield-icon"],["src","assets/images/logoPortada.png","alt","logotipo de la marca",1,"logo"],[3,"ngSubmit","formGroup"],["position","floating","for","emailInput"],["id","emailInput","name","email","type","email","autocomplete","email","formControlName","email"],["slot","end","name","mail-outline",1,"icon-blue"],["class","error-message",4,"ngIf"],["position","floating","for","passwordInput"],["id","passwordInput","name","password","type","password","autocomplete","new-password","formControlName","password"],["slot","end","name","lock-closed-outline",1,"icon-blue"],["position","floating","for","confirmPasswordInput"],["id","confirmPasswordInput","name","confirmPassword","type","password","autocomplete","new-password","formControlName","confirmPassword"],["for","fileInput"],["id","fileInput","name","profileImage","type","file","accept","image/*","capture","environment",3,"change"],["slot","end","name","camera-outline",1,"icon-blue"],["expand","full","type","submit",3,"disabled"],[1,"footer-links"],["fill","clear","routerLink","/login",1,"login-button"],[1,"error-message"]],template:function(o,i){if(1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"GalleryApp Registrarse"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"div",3),e.nrm(7,"img",4),e.k0s(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return i.onRegister()}),e.j41(9,"ion-item")(10,"ion-label",6),e.EFF(11,"Email"),e.k0s(),e.nrm(12,"ion-input",7)(13,"ion-icon",8),e.k0s(),e.DNE(14,h,2,0,"div",9),e.j41(15,"ion-item")(16,"ion-label",10),e.EFF(17,"Contrase\xf1a"),e.k0s(),e.nrm(18,"ion-input",11)(19,"ion-icon",12),e.k0s(),e.DNE(20,F,2,0,"div",9),e.j41(21,"ion-item")(22,"ion-label",13),e.EFF(23,"Confirmar Contrase\xf1a"),e.k0s(),e.nrm(24,"ion-input",14)(25,"ion-icon",12),e.k0s(),e.DNE(26,v,2,0,"div",9),e.j41(27,"ion-item")(28,"ion-label",15),e.EFF(29,"Selecciona una imagen (opcional)"),e.k0s(),e.j41(30,"input",16),e.bIt("change",function(l){return i.onImageSelected(l)}),e.k0s(),e.nrm(31,"ion-icon",17),e.k0s(),e.j41(32,"ion-button",18),e.EFF(33,"Registrarse"),e.k0s()(),e.j41(34,"div",19)(35,"ion-button",20),e.EFF(36,"Ya tengo una cuenta"),e.k0s()()()()),2&o){let r,l,d;e.R7$(8),e.Y8G("formGroup",i.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(r=i.registerForm.get("email"))?null:r.invalid)&&(null==(r=i.registerForm.get("email"))?null:r.touched)),e.R7$(6),e.Y8G("ngIf",(null==(l=i.registerForm.get("password"))?null:l.invalid)&&(null==(l=i.registerForm.get("password"))?null:l.touched)),e.R7$(6),e.Y8G("ngIf",(null==(d=i.registerForm.get("confirmPassword"))?null:d.invalid)&&(null==(d=i.registerForm.get("confirmPassword"))?null:d.touched)),e.R7$(6),e.Y8G("disabled",i.registerForm.invalid)}},dependencies:[p.bT,n.qT,n.BC,n.cb,s.Jm,s.W9,s.eU,s.iq,s.$w,s.uz,s.he,s.BC,s.ai,s.Gw,s.N7,n.j4,n.JD,u.Wk],styles:['@charset "UTF-8";register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:400px;margin:auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;height:calc(100% - 40px)}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.footer-links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.icon-blue[_ngcontent-%COMP%]{color:#007bff}']}),a})()}];let R=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(P),u.iI]}),a})(),b=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.MD,n.YN,s.bv,n.X1,R]}),a})()}}]);